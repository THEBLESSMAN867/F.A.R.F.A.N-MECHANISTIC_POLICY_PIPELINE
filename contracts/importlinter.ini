[importlinter]
root_packages = saaaaaa

[contract:core-no-analysis]
name = Core (excluding orchestrator) must not import analysis
type = forbidden
source_modules =
    saaaaaa.core.calibration
    saaaaaa.core.wiring
forbidden_modules =
    saaaaaa.analysis
    saaaaaa.processing
    saaaaaa.api

[contract:core-orchestrator-no-analysis]
name = Core orchestrator must not import analysis
type = forbidden
source_modules =
    saaaaaa.core.orchestrator
forbidden_modules =
    saaaaaa.analysis

[contract:processing-no-orchestrator]
name = Processing layer cannot import orchestrator
type = forbidden
source_modules =
    saaaaaa.processing
forbidden_modules =
    saaaaaa.core.orchestrator

[contract:analysis-no-orchestrator]
name = Analysis layer cannot import orchestrator
type = forbidden
source_modules =
    saaaaaa.analysis
forbidden_modules =
    saaaaaa.core.orchestrator

[contract:analysis-dep-core]
name = Analysis depends on core but not infrastructure
type = forbidden
source_modules =
    saaaaaa.analysis
forbidden_modules =
    saaaaaa.infrastructure

[contract:infrastructure-no-orchestrator]
name = Infrastructure must not pull orchestrator
type = forbidden
source_modules =
    saaaaaa.infrastructure
forbidden_modules =
    saaaaaa.core.orchestrator

[contract:api-boundaries]
name = API layer only calls orchestrator entry points
type = forbidden
source_modules =
    saaaaaa.api
forbidden_modules =
    saaaaaa.processing
    saaaaaa.analysis
    saaaaaa.utils

[contract:utils-leaf]
name = Utils stay leaf modules
type = forbidden
source_modules =
    saaaaaa.utils
forbidden_modules =
    saaaaaa.core.orchestrator
    saaaaaa.processing
    saaaaaa.analysis

