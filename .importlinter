[settings]
root_package = farfan_core

[contract:core-foundation]
name = Core must stay independent
type = forbid
source_modules =
    farfan_core.core
forbidden_modules =
    farfan_core.core.orchestrator
    farfan_core.analysis
    farfan_core.processing
    farfan_core.api

[contract:orchestrator-depends-core]
name = Orchestrator may depend on core but not vice versa
type = independence
modules =
    farfan_core.core.orchestrator
    farfan_core.core

[contract:processing-no-orchestrator]
name = Processing layer cannot import orchestrator
type = forbid
source_modules =
    farfan_core.processing
forbidden_modules =
    farfan_core.core.orchestrator

[contract:analysis-no-orchestrator]
name = Analysis layer cannot import orchestrator
type = forbid
source_modules =
    farfan_core.analysis
forbidden_modules =
    farfan_core.core.orchestrator

[contract:analysis-dep-core]
name = Analysis depends on core but not infrastructure
type = forbid
source_modules =
    farfan_core.analysis
forbidden_modules =
    farfan_core.infrastructure

[contract:infrastructure-no-orchestrator]
name = Infrastructure must not pull orchestrator
type = forbid
source_modules =
    farfan_core.infrastructure
forbidden_modules =
    farfan_core.core.orchestrator

[contract:api-boundaries]
name = API layer only calls orchestrator entry points
type = forbid
source_modules =
    farfan_core.api
forbidden_modules =
    farfan_core.processing
    farfan_core.analysis
    farfan_core.utils

[contract:utils-leaf]
name = Utils stay leaf modules
type = forbid
source_modules =
    farfan_core.utils
forbidden_modules =
    farfan_core.core.orchestrator
    farfan_core.processing
    farfan_core.analysis

